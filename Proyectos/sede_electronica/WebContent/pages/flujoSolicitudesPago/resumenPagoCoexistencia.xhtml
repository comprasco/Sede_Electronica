<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	template="/WEB-INF/templates/template-base.xhtml">
	<ui:define name="title">
		<title>#{txt_flujoSolicitudesPago['titulo.resumen']}</title>
	</ui:define>
	<ui:define name="head">
		<h:outputStylesheet library="css" name="snr-se-resumen.css" />
		<h:outputScript library="js" name="archivo.js" />
	</ui:define>
	<ui:define name="body">
		<f:metadata>
			<f:viewParam name="is_nir" value="#{beanIntegracionTemporal.is_nir}" />
			<f:event type="preRenderView"
				listener="#{beanIntegracionTemporal.valorParametro}" />
		</f:metadata>
		<ui:include src="/pages/includes/banner.xhtml">
			<ui:param name="titulo"
				value="#{txt_flujoSolicitudesPago['banner.resumen.titulo']}" />
			<ui:param name="imagen" value="img-rolesPermisos" />
			<ui:param name="subtitulo"
				value="#{txt_flujoSolicitudesPago['banner.resumen.subtitulo']}" />
		</ui:include>
		<div id="transaccion_wrapper">
			<div class="row text-center">
				<div class="col-xs-12">
					<p:outputLabel
						value="#{txt_flujoSolicitudesPago['resumen.header.titulo']}"
						class="resumen-titulo" />
					<br />
					<p:outputLabel
						value="#{txt_flujoSolicitudesPago['resumen.header.subtitulo']} #{beanIntegracionTemporal.iie_integracionEntradaDto.is_operacion}"
						class="resumen-titulo" />
				</div>
			</div>
			<br /> <br />
			<div class="row text-center">
				<div
					class="col-xs-12 col-sm-4  col-sm-offset-4 resumen-header">
					<div class="row">
						<div class="col-xs-12">
							<p:outputLabel id="labelNir" styleClass="text-title"
								for="textNir" value="#{txt_flujoSolicitudesPago['resumen.nir']}" />
						</div>
					</div>
					<div class="row">
						<div class="col-xs-12">
							<h:outputText id="textNir"
								value="#{beanIntegracionTemporal.iie_integracionEntradaDto.is_nir}" />
						</div>
					</div>
				</div>
			</div>
			<br />
			<div class="row space-row text-center">
				<div class="col-xs-12 col-sm-6">
					<div class="row">
						<div class="col-xs-12">
							<p:outputLabel id="labelFecha" styleClass="text-title"
								for="textFecha"
								value="#{txt_flujoSolicitudesPago['resumen.fecha']}" />
						</div>
					</div>
					<div class="row">
						<div class="col-xs-12">
							<h:outputText id="textFecha"
								value="#{beanIntegracionTemporal.iie_integracionEntradaDto.id_fechaCreacion}">
								<f:convertDateTime pattern="dd/MM/yyyy" />
							</h:outputText>
						</div>
					</div>
				</div>
				<div class="col-xs-12 col-sm-6">
					<div class="row">
						<div class="col-xs-12">
							<p:outputLabel id="labelTipoPersona" styleClass="text-title"
								for="textTipoPersona"
								value="#{txt_flujoSolicitudesPago['resumen.tipoPersona']}" />
						</div>
					</div>
					<div class="row">
						<div class="col-xs-12">
							<h:outputText id="textTipoPersona"
								value="#{beanIntegracionTemporal.iie_integracionEntradaDto.iu_usuarioDto.ip_personaDto.ic_catalogoDto.is_descripcion}" />
						</div>
					</div>
				</div>
			</div>
			<div class="row">
				<div class="col-xs-12 col-sm-6 col-md-4">
					<div class="row">
						<div class="col-xs-12 text-center">
							<p:outputLabel id="labelTipoDocumento" styleClass="text-title"
								for="textTipoDocumento"
								value="#{txt_flujoSolicitudesPago['resumen.tipoDocumento']}" />
						</div>
					</div>
					<div class="row">
						<div class="col-xs-12 text-center">
							<h:outputText id="textTipoDocumento"
								value="#{beanIntegracionTemporal.iie_integracionEntradaDto.iu_usuarioDto.ip_personaDto.itd_tipoDocumentoDto.is_id}" />
						</div>
					</div>
				</div>
				<div class="col-xs-12 col-sm-6 col-md-4">
					<div class="row">
						<div class="col-xs-12 text-center">
							<p:outputLabel id="labelNumeroDocumento" styleClass="text-title"
								for="textNumeroDocumento"
								value="#{txt_flujoSolicitudesPago['resumen.numeroDocumento']}" />
						</div>
					</div>
					<div class="row">
						<div class="col-xs-12 text-center">
							<h:outputText id="textNumeroDocumento"
								value="#{beanIntegracionTemporal.iie_integracionEntradaDto.iu_usuarioDto.ip_personaDto.is_numeroDocumento}" />
						</div>
					</div>
				</div>
				<ui:fragment
					rendered="#{beanIntegracionTemporal.iie_integracionEntradaDto.iu_usuarioDto.ip_personaDto.ipj_personaJuridicaDto != null}">
					<div class="col-xs-12 col-sm-6 col-md-4">
						<div class="row">
							<div class="col-xs-12 text-center">
								<p:outputLabel id="labelRazonSocial" styleClass="text-title"
									for="textRazonSocial"
									value="#{txt_flujoSolicitudesPago['resumen.razonSocial']}" />
							</div>
						</div>
						<div class="row">
							<div class="col-xs-12">
								<h:outputText id="textRazonSocial"
									value="#{beanIntegracionTemporal.iie_integracionEntradaDto.iu_usuarioDto.ip_personaDto.ipj_personaJuridicaDto.is_razonSocial}" />
							</div>
						</div>
					</div>
				</ui:fragment>
				<ui:fragment
					rendered="#{beanIntegracionTemporal.iie_integracionEntradaDto.iu_usuarioDto.ip_personaDto.ipn_personaNaturalDto.is_primerApellido != null ||
				 beanIntegracionTemporal.iie_integracionEntradaDto.iu_usuarioDto.ip_personaDto.ipn_personaNaturalDto.is_segundoApellido != null || 
				 beanIntegracionTemporal.iie_integracionEntradaDto.iu_usuarioDto.ip_personaDto.ipn_personaNaturalDto.is_primerNombre != null || 
				 beanIntegracionTemporal.iie_integracionEntradaDto.iu_usuarioDto.ip_personaDto.ipn_personaNaturalDto.is_segundoNombre}">
					<div class="col-xs-12 col-sm-6 col-md-4">
						<div class="row">
							<div class="col-xs-12 text-center">
								<p:outputLabel id="labelNombre" styleClass="text-title"
									for="textNombre"
									value="#{txt_flujoSolicitudesPago['resumen.nombre']}" />
							</div>
						</div>
						<div class="row">
							<div class="col-xs-12 text-center">
								<h:outputText id="textNombre"
									value="#{beanIntegracionTemporal.iie_integracionEntradaDto.iu_usuarioDto.ip_personaDto.ipn_personaNaturalDto.is_primerApellido} #{beanIntegracionTemporal.iie_integracionEntradaDto.iu_usuarioDto.ip_personaDto.ipn_personaNaturalDto.is_segundoApellido} 
								#{beanIntegracionTemporal.iie_integracionEntradaDto.iu_usuarioDto.ip_personaDto.ipn_personaNaturalDto.is_primerNombre} #{beanIntegracionTemporal.iie_integracionEntradaDto.iu_usuarioDto.ip_personaDto.ipn_personaNaturalDto.is_segundoNombre}" />
							</div>
						</div>
					</div>
				</ui:fragment>
				<div class="col-xs-12">
					<br />
					<p:separator />
				</div>
				<ui:fragment
					rendered="#{(beanIntegracionTemporal.iie_integracionEntradaDto.ii_cantidad > 10)}">
					<div class="col-xs-12">
						<div class="row">
							<div class="col-xs-5">
								<h:outputText styleClass="text-title"
									value="#{txt_certificados['wizardMasivos.datos.tabla.validar.respuesta']}" />
							</div>
							<div class="col-xs-2 text-right colorVerde">
								<h:outputText id="resumenMasivos2${id}"
									value="#{beanIntegracionTemporal.iie_integracionEntradaDto.ii_cantidad}" />
							</div>
							<div class="col-xs-5">
								<h:outputText
									value="#{txt_certificados['wizardMasivos.datos.tabla.certificados']}" />
							</div>
						</div>
					</div>
				</ui:fragment>
				<ui:decorate
					template="/pages/includes/resumenes/certificados/resumenCertificadoIndividual.xhtml">
					<ui:param name="listaCertificados"
						value="#{beanIntegracionTemporal.iie_integracionEntradaDto.ilsm_listaSalidaMatriculaDto}" />
					<ui:param name="valorTotal"
						value="#{beanIntegracionTemporal.iie_integracionEntradaDto.ibd_valorTotalServicio}" />
				</ui:decorate>
			</div>
			<ui:fragment
				rendered="#{(beanIntegracionTemporal.iie_integracionEntradaDto.is_referenciaPago == null or
				empty beanIntegracionTemporal.iie_integracionEntradaDto.is_referenciaPago)}">
				<div class="row">
					<div class="col-xs-12 space-row text-center">
						<p:outputLabel value="#{txt_copias['validando.folios']}"
							styleClass="resumen-titulo" />
					</div>
				</div>
			</ui:fragment>
			<ui:fragment
				rendered="#{beanIntegracionTemporal.iie_integracionEntradaDto.is_referenciaPago != null and
				 not empty beanIntegracionTemporal.iie_integracionEntradaDto.is_referenciaPago}">
				<div class="row">
					<div class="col-xs-12 space-row text-center">
						<h:outputText styleClass="resumen-titulo"
							value="#{txt_flujoSolicitudesPago['cuentaCupo.tipoPago']}" />
					</div>
					<br />
					<p:outputPanel id="panelpagos">
						<div class="row text-center">
							<div
								class="col-xs-12 col-sm-6 col-sm-offset-3">
								<div class="dflex">
									<p:graphicImage styleClass="imgPago" name="/iconos/pse.png" />
									<p:commandButton styleClass="buttonPago"
										disabled="#{!beanIntegracionTemporal.ib_estadoPSE}"
										value="#{txt_flujoSolicitudesPago['resumen.pagar']}"
										onclick="PF('pasarelaPago').show()">
										<p:ajax onstart="PF('blockUI-Loading').show();"
											oncomplete="PF('blockUI-Loading').hide();" />
									</p:commandButton>

								</div>
							</div>
						</div>
					</p:outputPanel>
				</div>
			</ui:fragment>
		</div>
		<ui:decorate template="/pages/includes/modal.xhtml">
			<ui:param name="modalId" value="pasarelaPago" />
			<ui:param name="clasesEstilo" value="cerrarModal modal-mediano" />
			<ui:param name="tituloModal"
				value="#{txt['titulo.modal.redireccion']}" />
			<ui:param name="formulario" value="formModalPasarelaPago" />
			<ui:param name="accionBotonBean" value="${beanIntegracionTemporal}" />
			<ui:param name="accionBotonMetodo" value="redirigirPasarela" />
			<ui:define name="body-modal">
				<div class="row">
					<div class="col-xs-12">
						<h:outputText
							value="#{txt_flujoSolicitudesPago['resumen.modal.contenido']}" />
					</div>
				</div>
			</ui:define>
			<ui:define name="accion-modal">
				<div class="row">
					<div class="row">
						<div class="col-xs-5 col-xs-offset-1">
							<p:commandButton
								value="#{txt_flujoSolicitudesPago['boton.volver']}"
								class="btn-gris" oncomplete="PF('#{modalId}').hide()">
							</p:commandButton>
						</div>
						<div class="col-xs-5 col-xs-offset-0">
							<p:commandButton
								value="#{txt_flujoSolicitudesPago['boton.redirigir']}"
								class="btn-rojo btn-gradiente"
								oncomplete="PF('#{modalId}').hide()">
								<f:ajax listener="#{beanIntegracionTemporal.redirigirPasarela}" />
							</p:commandButton>
						</div>
					</div>
				</div>
			</ui:define>
		</ui:decorate>
		<!-- modal de pago realizado -->
		<ui:decorate template="/pages/includes/modal.xhtml">
			<ui:param name="modalId" value="pagoCuentaCupoConfirmado" />
			<ui:param name="clasesEstilo" value="cerrarModal modal-mediano" />
			<ui:param name="tituloModal"
				value="#{txt['titulo.modal.redireccion']}" />
			<ui:param name="formulario" value="formPagoCuentaCupoConfirmado" />
			<ui:define name="body-modal">
				<div class="row">
					<div class="col-xs-12">
						<p:outputLabel
							value="#{txt_flujoSolicitudesPago['cuentaCupo.pagoConfirmado.titulo']}"
							styleClass="text-contrasena-title" />
						<br /> <br />
					</div>
					<div class="col-xs-12">
						<h:outputText
							value="#{txt_flujoSolicitudesPago['cuentaCupo.pagoConfirmado.contenido1']} " />
						<h:outputText styleClass="text-title"
							value="#{beanIntegracionTemporal.iie_integracionEntradaDto.getIs_nir()} " />
						<br />
						<h:outputText
							value="#{txt_flujoSolicitudesPago['cuentaCupo.pagoConfirmado.contenido2']} " />
						<h:outputText styleClass="colorVerde"
							value="#{beanIntegracionTemporal.iie_integracionEntradaDto.ibd_valorTotalServicio}">
							<f:convertNumber type="currency" currencySymbol="$"
								maxFractionDigits="0" />
						</h:outputText>
						<h:outputText
							value=" #{txt_flujoSolicitudesPago['cuentaCupo.pagoConfirmado.contenido3']} " />
						<h:outputText value="#{beanIntegracionTemporal.id_fechaActual}">
							<f:convertDateTime pattern="dd/MM/yyyy" />
						</h:outputText>
						<br /> <br />
						<h:outputText
							value=" #{txt_flujoSolicitudesPago['cuentaCupo.pagoConfirmado.contenido4']}" />
						<br /> <br />
						<h:outputText
							value="#{txt_flujoSolicitudesPago['cuentaCupo.pagoConfirmado.contenido5']}" />
						<br /> <i class="fa fa-history" aria-hidden="true"></i>
						<h:outputText styleClass="bold"
							value=" #{txt_flujoSolicitudesPago['cuentaCupo.pagoConfirmado.contenido6']}" />
						<br /> <br />
					</div>
				</div>
			</ui:define>
			<ui:define name="accion-modal">
				<div class="row">
					<div class="row">
						<div class="col-xs-5 col-xs-offset-1">
							<p:commandButton
								value="#{txt_flujoSolicitudesPago['boton.volver']}"
								class="btn-gris" oncomplete="PF('#{modalId}').hide()"
								action="/pages/personas/inicio.jsf?faces-redirect=true">
							</p:commandButton>
						</div>
						<div class="col-xs-5 col-xs-offset-0">
							<p:commandButton
								value="#{txt_flujoSolicitudesPago['boton.redirigir']}"
								class="btn-rojo btn-gradiente"
								oncomplete="PF('#{modalId}').hide()"
								action="/pages/flujoSolicitudesPago/historialSolicitudes.jsf?faces-redirect=true">
							</p:commandButton>
						</div>
					</div>
				</div>
			</ui:define>
		</ui:decorate>
		<ui:decorate template="/pages/includes/modal.xhtml">
			<ui:param name="modalId" value="confirmarPagoCuentaCupo" />
			<ui:param name="clasesEstilo" value="cerrarModal modal-mediano" />
			<ui:param name="tituloModal"
				value="#{txt['titulo.modal.confirmacion']}" />
			<ui:param name="formulario" value="formConfirmarPagoCuentaCupo" />
			<ui:define name="body-modal">
				<div class="row">
					<div class="col-xs-12">
						<p:outputLabel
							value="#{txt_flujoSolicitudesPago['cuentaCupo.modal.recarga.contenido']}"
							styleClass="text-contrasena-title" />
					</div>
					<br />
					<div class="row">
						<span class="col-xs-12"> <h:outputText
								value="#{txt_flujoSolicitudesPago['confirmarPagoCuentaCupo.label.nroCuentaCupo'] }"
								styleClass="text-title" /> <h:outputText
								value="#{beanIntegracionTemporal.idcc_detalleCuentaCupoDto.is_numeroCuenta}" />
						</span> <span class="col-xs-12"> <h:outputText
								value="#{txt_flujoSolicitudesPago['confirmarPagoCuentaCupo.label.saldoActual'] }"
								styleClass="text-title" /> <h:outputText
								value="#{beanIntegracionTemporal.idcc_detalleCuentaCupoDto.ibd_saldo}">
								<f:convertNumber type="currency" currencySymbol="$"
									maxFractionDigits="0" />
							</h:outputText>
						</span> <span class="col-xs-12"> <h:outputText
								value="#{txt_flujoSolicitudesPago['confirmarPagoCuentaCupo.label.estadoCuenta'] }"
								styleClass="text-title" /> <h:outputText
								value="#{beanIntegracionTemporal.idcc_detalleCuentaCupoDto.is_estadoCuenta}" />
						</span> <span class="col-xs-12"> <h:outputText
								value="#{txt_flujoSolicitudesPago['confirmarPagoCuentaCupo.label.ultimoMovimiento'] }"
								styleClass="text-title" /> <h:outputText
								value="#{beanIntegracionTemporal.idcc_detalleCuentaCupoDto.id_ultimoMovimiento}">
								<f:convertDateTime pattern="dd/MM/yyyy" />
							</h:outputText>
						</span>
					</div>
				</div>
			</ui:define>
			<hr />
			<ui:define name="accion-modal">
				<div class="col-xs-4 col-xs-offset-2">
					<p:button id="btn-cancel"
						styleClass="icon-btn pull-right btn-gris-dialog"
						value="#{txt['boton.Cancelar.Upper']}"
						onclick="PF('confirmarPagoCuentaCupo').hide();return false" />
				</div>
				<div class="col-xs-4">
					<p:commandButton id="btn-finalizar"
						styleClass="icon-btn btn-rojo-dialog pull-left btn-gradiente"
						value="#{txt_flujoSolicitudesPago['boton.acepar']}">
						<p:ajax
							listener="#{beanIntegracionTemporal.realizarPagoCuentaCupo}"
							update="confirmarPagoCuentaCupo"
							onstart="PF('confirmarPagoCuentaCupo').hide();PF('blockUI-Loading').show();"
							oncomplete="PF('pagoCuentaCupoConfirmado').show();" />
					</p:commandButton>
				</div>
			</ui:define>
		</ui:decorate>
		<ui:decorate template="/pages/includes/modal.xhtml">
			<ui:param name="modalId" value="recargaInsuficiente" />
			<ui:param name="clasesEstilo" value="cerrarModal modal-mediano" />
			<ui:param name="tituloModal"
				value="#{txt['titulo.modal.confirmacion']}" />
			<ui:param name="formulario" value="formRecargaInsuficiente" />
			<ui:define name="body-modal">
				<div class="row">
					<div class="col-xs-12">
						<h:outputText
							value="#{txt_flujoSolicitudesPago['cuentaCupo.modal.noFondos.contenido1']} " />
						<h:outputText
							value="#{beanIntegracionTemporal.iie_integracionEntradaDto.getIs_nir()} " />
						<h:outputText
							value="#{txt_flujoSolicitudesPago['cuentaCupo.modal.noFondos.contenido2']} " />
						<h:outputText value="#{beanIntegracionTemporal.id_fechaActual}">
							<f:convertDateTime pattern="dd/MM/yyyy" />
						</h:outputText>
						<h:outputText
							value=" #{txt_flujoSolicitudesPago['cuentaCupo.modal.noFondos.contenido3']}" />
						<br />
						<h:outputText
							value="#{txt_flujoSolicitudesPago['cuentaCupo.modal.noFondos.contenido4']}" />
					</div>
				</div>
			</ui:define>
		</ui:decorate>
	</ui:define>
</ui:composition>